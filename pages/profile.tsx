import { useSession } from 'next-auth/react';
import { useRouter } from 'next/router';
import Link from 'next/link';
import Navbar from '../components/Navbar';

export default function ProfilePage() {
  const { data: session, status } = useSession();
  const router = useRouter();

  // Redirect to sign-in page if not authenticated
  if (status === 'loading') {
    return <div>Loading...</div>;
  }

  if (status === 'unauthenticated') {
    router.push('/auth/signin');
    return null;
  }

  // Log the session object to inspect it
  console.log('Profile Page - Session:', session);

  return (
    <div className="min-h-screen bg-gray-50 p-6">
      <Navbar />
      {/* Welcome Section */}
      <div className="bg-white shadow-md rounded-md p-6 mb-10 flex items-center space-x-4">
        <img
          src={session.user.image}
          alt="User Profile"
          className="w-16 h-16 rounded-full"
        />
        <div>
          <h2 className="text-2xl font-bold">Welcome, {session.user.name}!</h2>
          <p className="text-gray-600">User ID: {session.user.id}</p>
        </div>
      </div>

      {/* Cards Section */}
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {/* Orders */}
        <Link href="/orders" className="block">
          <div className="bg-white shadow-md rounded-md p-6 flex items-center space-x-4 cursor-pointer hover:bg-gray-100 transition">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 64 64" id="Contact-Support--Streamline-Outlined----Material-Symbols.svg" height="32" width="32"><desc>Contact Support Streamline Icon: https://streamlinehq.com</desc><path fill="#000000" d="M36.312 63.36L35.528 54.736H32.391999999999996C24.91786666666667 54.736 18.541333333333334 52.09653333333333 13.2624 46.8176C7.983466666666666 41.538666666666664 5.343999999999999 35.16213333333333 5.343999999999999 27.687999999999995C5.343999999999999 20.213866666666664 7.996533333333333 13.837333333333333 13.3016 8.558399999999999C18.606666666666666 3.2794666666666665 25.022399999999998 0.6399999999999999 32.5488 0.6399999999999999C36.25973333333333 0.6399999999999999 39.696266666666666 1.3064 42.858399999999996 2.6391999999999998C46.02053333333333 3.972 48.77759999999999 5.840533333333333 51.129599999999996 8.2448C53.48159999999999 10.649066666666666 55.324 13.484533333333333 56.656800000000004 16.751199999999997C57.989599999999996 20.017866666666666 58.65599999999999 23.585066666666666 58.65599999999999 27.4528C58.65599999999999 30.9024 58.1464 34.352 57.127199999999995 37.80159999999999C56.108000000000004 41.2512 54.63146666666666 44.544 52.6976 47.67999999999999C50.763733333333334 50.816 48.41173333333333 53.71679999999999 45.6416 56.3824C42.87146666666666 59.048 39.7616 61.373866666666665 36.312 63.36ZM40.232 54.8928C44.51786666666666 51.28639999999999 47.87599999999999 47.03973333333333 50.3064 42.1528C52.736799999999995 37.26586666666667 53.952 32.36586666666666 53.952 27.4528C53.952 20.971733333333333 51.92666666666666 15.666666666666666 47.87599999999999 11.5376C43.82533333333333 7.408533333333333 38.71626666666666 5.343999999999999 32.5488 5.343999999999999C26.276799999999998 5.343999999999999 20.958666666666666 7.526133333333332 16.5944 11.8904C12.230133333333331 16.254666666666665 10.047999999999998 21.520533333333333 10.047999999999998 27.687999999999995C10.047999999999998 33.855466666666665 12.230133333333331 39.12133333333333 16.5944 43.48559999999999C20.958666666666666 47.849866666666664 26.22453333333333 50.032 32.391999999999996 50.032H40.232V54.8928ZM32.5488 45.8768C33.38506666666666 45.8768 34.090666666666664 45.58933333333333 34.6656 45.0144C35.24053333333333 44.43946666666666 35.528 43.73386666666667 35.528 42.8976C35.528 42.06133333333333 35.24053333333333 41.35573333333333 34.6656 40.7808C34.090666666666664 40.205866666666665 33.38506666666666 39.9184 32.5488 39.9184C31.712533333333333 39.9184 31.00693333333333 40.205866666666665 30.432000000000002 40.7808C29.857066666666668 41.35573333333333 29.569599999999998 42.06133333333333 29.569599999999998 42.8976C29.569599999999998 43.73386666666667 29.857066666666668 44.43946666666666 30.432000000000002 45.0144C31.00693333333333 45.58933333333333 31.712533333333333 45.8768 32.5488 45.8768ZM30.432000000000002 35.2144H34.352C34.352 33.90773333333333 34.57413333333333 32.8232 35.0184 31.9608C35.462666666666664 31.098399999999998 36.3904 29.961599999999997 37.80159999999999 28.5504C39.2128 27.139199999999995 40.205866666666665 25.845599999999997 40.7808 24.669599999999996C41.35573333333333 23.4936 41.64319999999999 22.22613333333333 41.64319999999999 20.867199999999997C41.64319999999999 18.5152 40.84613333333333 16.581333333333333 39.251999999999995 15.0656C37.65786666666666 13.549866666666667 35.528 12.791999999999998 32.862399999999994 12.791999999999998C30.667199999999998 12.791999999999998 28.7072 13.366933333333332 26.9824 14.5168C25.2576 15.666666666666666 23.977066666666666 17.234666666666666 23.1408 19.220799999999997L26.7472 20.7104C27.32213333333333 19.351466666666667 28.1192 18.345333333333333 29.138399999999997 17.692C30.157600000000002 17.038666666666664 31.320533333333334 16.712 32.6272 16.712C34.1952 16.712 35.42346666666666 17.090933333333332 36.312 17.848799999999997C37.20053333333333 18.606666666666666 37.6448 19.6128 37.6448 20.867199999999997C37.6448 21.860266666666664 37.35733333333333 22.8664 36.782399999999996 23.8856C36.20746666666666 24.904799999999998 35.188266666666664 26.172266666666665 33.7248 27.687999999999995C32.313599999999994 29.151466666666668 31.412 30.327466666666666 31.02 31.215999999999998S30.432000000000002 33.43733333333333 30.432000000000002 35.2144Z" stroke-width="1"></path></svg>            <div>
              <h3 className="font-bold text-lg">Orders</h3>
              <p className="text-gray-600">Track orders, download invoices, view history</p>
            </div>
          </div>
        </Link>

        {/* Personal Data */}
        <Link href="/personal-data" className="block">
          <div className="bg-white shadow-md rounded-md p-6 flex items-center space-x-4 cursor-pointer hover:bg-gray-100 transition">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 64 64" id="Id-Card--Streamline-Outlined----Material-Symbols.svg" height="32" width="32"><desc>Id Card Streamline Icon: https://streamlinehq.com</desc><path fill="#000000" d="M39.839999999999996 34.352H53.952V29.648H39.839999999999996V34.352ZM39.839999999999996 24.943999999999996H53.952V20.24H39.839999999999996V24.943999999999996ZM10.047999999999998 44.544H35.135999999999996V43.054399999999994C35.135999999999996 40.8592 34.02533333333333 39.069066666666664 31.804000000000002 37.684C29.582666666666668 36.29893333333333 26.512 35.606399999999994 22.592 35.606399999999994S15.601333333333333 36.29893333333333 13.379999999999999 37.684C11.158666666666665 39.069066666666664 10.047999999999998 40.8592 10.047999999999998 43.054399999999994V44.544ZM22.58573333333333 30.9024C24.158 30.9024 25.505866666666666 30.342666666666666 26.6296 29.223066666666668C27.753333333333334 28.103466666666666 28.315199999999997 26.757733333333334 28.315199999999997 25.185466666666663C28.315199999999997 23.6132 27.755466666666667 22.265333333333334 26.635866666666665 21.141599999999997C25.516266666666667 20.017866666666666 24.17053333333333 19.456 22.598266666666664 19.456C21.026 19.456 19.67813333333333 20.01573333333333 18.5544 21.13533333333333C17.430666666666667 22.25493333333333 16.8688 23.60066666666667 16.8688 25.172933333333333C16.8688 26.7452 17.428533333333334 28.093066666666665 18.548133333333332 29.2168C19.66773333333333 30.340533333333333 21.013466666666666 30.9024 22.58573333333333 30.9024ZM5.343999999999999 57.088C4.0896 57.088 2.992 56.617599999999996 2.0511999999999997 55.67679999999999C1.1103999999999998 54.736 0.6399999999999999 53.6384 0.6399999999999999 52.38399999999999V11.616C0.6399999999999999 10.3616 1.1103999999999998 9.264 2.0511999999999997 8.3232C2.992 7.3824000000000005 4.0896 6.912 5.343999999999999 6.912H58.65599999999999C59.910399999999996 6.912 61.007999999999996 7.3824000000000005 61.94879999999999 8.3232C62.8896 9.264 63.36 10.3616 63.36 11.616V52.38399999999999C63.36 53.6384 62.8896 54.736 61.94879999999999 55.67679999999999C61.007999999999996 56.617599999999996 59.910399999999996 57.088 58.65599999999999 57.088H5.343999999999999ZM5.343999999999999 52.38399999999999H58.65599999999999V11.616H5.343999999999999V52.38399999999999Z" stroke-width="1"></path></svg>            <div>
              <h3 className="font-bold text-lg">Personal Data</h3>
              <p className="text-gray-600">Change password, manage addresses, delete payment data</p>
            </div>
          </div>
        </Link>

        {/* Projects */}
        <Link href="/my-projects" className="block">
          <div className="bg-white shadow-md rounded-md p-6 flex items-center space-x-4 cursor-pointer hover:bg-gray-100 transition">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 64 64" id="Folder-Supervised--Streamline-Outlined----Material-Symbols.svg" height="32" width="32"><desc>Folder Supervised Streamline Icon: https://streamlinehq.com</desc><path fill="#000000" d="M5.3381333333333325 52.358533333333334V11.641466666666666V28.867866666666664ZM5.3381333333333325 57.05666666666666C4.085333333333333 57.05666666666666 2.9890666666666665 56.57386666666666 2.0494666666666665 55.60813333333333C1.1098666666666666 54.64226666666666 0.6399999999999999 53.559200000000004 0.6399999999999999 52.358533333333334V11.641466666666666C0.6399999999999999 10.4408 1.1098666666666666 9.3576 2.0494666666666665 8.391866666666665C2.9890666666666665 7.4261333333333335 4.085333333333333 6.9433333333333325 5.3381333333333325 6.9433333333333325H27.341066666666666L32.039199999999994 11.641466666666666H58.5836C59.78426666666667 11.641466666666666 60.867333333333335 12.124266666666665 61.83306666666667 13.09C62.79893333333334 14.055866666666667 63.281733333333335 15.138933333333334 63.281733333333335 16.339599999999997V31.530133333333332C62.550799999999995 30.955866666666665 61.80693333333333 30.46013333333333 61.05013333333333 30.0424C60.2932 29.624799999999997 59.47106666666666 29.2332 58.5836 28.867866666666664V16.339599999999997H30.081599999999998L25.383466666666667 11.641466666666666H5.3381333333333325V52.358533333333334H31.021199999999997C31.229999999999997 53.19373333333333 31.464933333333335 54.00293333333333 31.726 54.785866666666664C31.986933333333333 55.56893333333333 32.32626666666667 56.32573333333333 32.74386666666666 57.05666666666666H5.3381333333333325ZM38.30333333333333 57.05666666666666V55.56893333333333C38.30333333333333 53.376533333333334 39.41253333333333 51.67999999999999 41.6312 50.47933333333333C43.84973333333333 49.278666666666666 46.91653333333333 48.678399999999996 50.831599999999995 48.678399999999996S57.813599999999994 49.278666666666666 60.03213333333333 50.47933333333333C62.2508 51.67999999999999 63.36 53.376533333333334 63.36 55.56893333333333V57.05666666666666H38.30333333333333ZM50.83786666666666 43.43213333333333C49.267599999999995 43.43213333333333 47.92146666666666 42.873066666666666 46.79906666666666 41.75493333333333C45.67666666666666 40.63666666666666 45.1156 39.29253333333333 45.1156 37.72226666666666C45.1156 36.152 45.67466666666667 34.80586666666666 46.7928 33.68346666666666C47.91093333333333 32.56106666666666 49.255066666666664 32 50.82533333333333 32C52.3956 32 53.74186666666666 32.559066666666666 54.864266666666666 33.6772C55.986666666666665 34.79533333333333 56.54773333333333 36.139466666666664 56.54773333333333 37.70973333333333C56.54773333333333 39.28 55.98866666666667 40.626266666666666 54.870533333333334 41.748666666666665C53.752266666666664 42.871066666666664 52.40813333333333 43.43213333333333 50.83786666666666 43.43213333333333Z" stroke-width="1"></path></svg>            <div>
              <h3 className="font-bold text-lg">Projects</h3>
              <p className="text-gray-600">Continue designing projects, reordering orders, managing approvals</p>
            </div>
          </div>
        </Link>

        {/* Notifications */}
        <Link href="/notifications" className="block">
          <div className="bg-white shadow-md rounded-md p-6 flex items-center space-x-4 cursor-pointer hover:bg-gray-100 transition">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 64 64" id="Send--Streamline-Outlined----Material-Symbols.svg" height="32" width="32"><desc>Send Streamline Icon: https://streamlinehq.com</desc><path fill="#000000" d="M0.6399999999999999 58.4084V5.5916L63.36 32L0.6399999999999999 58.4084ZM5.5916 50.733466666666665L50.485866666666666 32L5.5916 13.018933333333333V26.883333333333333L25.562933333333334 32L5.5916 36.9516V50.733466666666665Z" stroke-width="1"></path></svg>            <div>
              <h3 className="font-bold text-lg">Notifications</h3>
              <p className="text-gray-600">Manage newsletter settings, notifications</p>
            </div>
          </div>
        </Link>

        {/* Help */}
        <Link href="/help" className="block">
          <div className="bg-white shadow-md rounded-md p-6 flex items-center space-x-4 cursor-pointer hover:bg-gray-100 transition">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 64 64" id="Contact-Support--Streamline-Outlined----Material-Symbols.svg" height="32" width="32"><desc>Contact Support Streamline Icon: https://streamlinehq.com</desc><path fill="#000000" d="M36.312 63.36L35.528 54.736H32.391999999999996C24.91786666666667 54.736 18.541333333333334 52.09653333333333 13.2624 46.8176C7.983466666666666 41.538666666666664 5.343999999999999 35.16213333333333 5.343999999999999 27.687999999999995C5.343999999999999 20.213866666666664 7.996533333333333 13.837333333333333 13.3016 8.558399999999999C18.606666666666666 3.2794666666666665 25.022399999999998 0.6399999999999999 32.5488 0.6399999999999999C36.25973333333333 0.6399999999999999 39.696266666666666 1.3064 42.858399999999996 2.6391999999999998C46.02053333333333 3.972 48.77759999999999 5.840533333333333 51.129599999999996 8.2448C53.48159999999999 10.649066666666666 55.324 13.484533333333333 56.656800000000004 16.751199999999997C57.989599999999996 20.017866666666666 58.65599999999999 23.585066666666666 58.65599999999999 27.4528C58.65599999999999 30.9024 58.1464 34.352 57.127199999999995 37.80159999999999C56.108000000000004 41.2512 54.63146666666666 44.544 52.6976 47.67999999999999C50.763733333333334 50.816 48.41173333333333 53.71679999999999 45.6416 56.3824C42.87146666666666 59.048 39.7616 61.373866666666665 36.312 63.36ZM40.232 54.8928C44.51786666666666 51.28639999999999 47.87599999999999 47.03973333333333 50.3064 42.1528C52.736799999999995 37.26586666666667 53.952 32.36586666666666 53.952 27.4528C53.952 20.971733333333333 51.92666666666666 15.666666666666666 47.87599999999999 11.5376C43.82533333333333 7.408533333333333 38.71626666666666 5.343999999999999 32.5488 5.343999999999999C26.276799999999998 5.343999999999999 20.958666666666666 7.526133333333332 16.5944 11.8904C12.230133333333331 16.254666666666665 10.047999999999998 21.520533333333333 10.047999999999998 27.687999999999995C10.047999999999998 33.855466666666665 12.230133333333331 39.12133333333333 16.5944 43.48559999999999C20.958666666666666 47.849866666666664 26.22453333333333 50.032 32.391999999999996 50.032H40.232V54.8928ZM32.5488 45.8768C33.38506666666666 45.8768 34.090666666666664 45.58933333333333 34.6656 45.0144C35.24053333333333 44.43946666666666 35.528 43.73386666666667 35.528 42.8976C35.528 42.06133333333333 35.24053333333333 41.35573333333333 34.6656 40.7808C34.090666666666664 40.205866666666665 33.38506666666666 39.9184 32.5488 39.9184C31.712533333333333 39.9184 31.00693333333333 40.205866666666665 30.432000000000002 40.7808C29.857066666666668 41.35573333333333 29.569599999999998 42.06133333333333 29.569599999999998 42.8976C29.569599999999998 43.73386666666667 29.857066666666668 44.43946666666666 30.432000000000002 45.0144C31.00693333333333 45.58933333333333 31.712533333333333 45.8768 32.5488 45.8768ZM30.432000000000002 35.2144H34.352C34.352 33.90773333333333 34.57413333333333 32.8232 35.0184 31.9608C35.462666666666664 31.098399999999998 36.3904 29.961599999999997 37.80159999999999 28.5504C39.2128 27.139199999999995 40.205866666666665 25.845599999999997 40.7808 24.669599999999996C41.35573333333333 23.4936 41.64319999999999 22.22613333333333 41.64319999999999 20.867199999999997C41.64319999999999 18.5152 40.84613333333333 16.581333333333333 39.251999999999995 15.0656C37.65786666666666 13.549866666666667 35.528 12.791999999999998 32.862399999999994 12.791999999999998C30.667199999999998 12.791999999999998 28.7072 13.366933333333332 26.9824 14.5168C25.2576 15.666666666666666 23.977066666666666 17.234666666666666 23.1408 19.220799999999997L26.7472 20.7104C27.32213333333333 19.351466666666667 28.1192 18.345333333333333 29.138399999999997 17.692C30.157600000000002 17.038666666666664 31.320533333333334 16.712 32.6272 16.712C34.1952 16.712 35.42346666666666 17.090933333333332 36.312 17.848799999999997C37.20053333333333 18.606666666666666 37.6448 19.6128 37.6448 20.867199999999997C37.6448 21.860266666666664 37.35733333333333 22.8664 36.782399999999996 23.8856C36.20746666666666 24.904799999999998 35.188266666666664 26.172266666666665 33.7248 27.687999999999995C32.313599999999994 29.151466666666668 31.412 30.327466666666666 31.02 31.215999999999998S30.432000000000002 33.43733333333333 30.432000000000002 35.2144Z" stroke-width="1"></path></svg>            <div>
              <h3 className="font-bold text-lg">Do you need help?</h3>
              <p className="text-gray-600">Contact our customer service</p>
            </div>
          </div>
        </Link>
      </div>
    </div>
  );
}
